<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whisper Voice-to-Text Service</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸµ Whisper Voice-to-Text</h1>
            <p>Transform your audio into beautiful text with our magenta-powered AI âœ¨</p>
        </header>

        <main class="main">
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <div class="upload-icon">ğŸ¶</div>
                        <h3>Drop your magical audio here</h3>
                        <p>or <button class="browse-btn" type="button" id="browseBtn">browse files</button></p>
                        <p class="file-info">Supports: MP3, WAV, MP4, M4A, OGG, FLAC (Max: 50MB) ğŸ’œ</p>
                        <p class="file-info" style="font-size: 0.85rem; color: #d81b60; margin-top: 8px;">
                            ğŸŒ Supports 90+ languages including Spanish, French, Chinese, and more!
                        </p>
                    </div>
                    <input type="file" id="fileInput" accept=".mp3,.wav,.mp4,.m4a,.ogg,.flac,.webm" hidden>
                </div>

                <!-- File Preview -->
                <div class="file-preview" id="filePreview" style="display: none;">
                    <div class="file-info">
                        <span class="file-name" id="fileName"></span>
                        <span class="file-size" id="fileSize"></span>
                        <button class="remove-file" id="removeFile">âœ•</button>
                    </div>
                    <audio id="audioPreview" controls style="width: 100%; margin-top: 10px;"></audio>
                </div>
            </section>

            <!-- Options Section -->
            <section class="options" id="options" style="display: none;">
                <div class="form-group">
                    <label for="languageSelect">Language:</label>
                    <select id="languageSelect">
                        <option value="">Auto-detect</option>
                        <!-- Major Languages - Full Whisper + TTS Support -->
                        <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                        <option value="es">ğŸ‡ªğŸ‡¸ Spanish</option>
                        <option value="fr">ğŸ‡«ğŸ‡· French</option>
                        <option value="de">ğŸ‡©ğŸ‡ª German</option>
                        <option value="it">ğŸ‡®ğŸ‡¹ Italian</option>
                        <option value="pt">ğŸ‡µğŸ‡¹ Portuguese</option>
                        <option value="ru">ğŸ‡·ğŸ‡º Russian</option>
                        <option value="ja">ğŸ‡¯ğŸ‡µ Japanese</option>
                        <option value="ko">ğŸ‡°ğŸ‡· Korean</option>
                        <option value="zh">ğŸ‡¨ğŸ‡³ Chinese (Mandarin)</option>
                        
                        <!-- Extended Languages - Whisper + TTS Support -->
                        <option value="hi">ğŸ‡®ğŸ‡³ Hindi</option>
                        <option value="ar">ğŸ‡¸ğŸ‡¦ Arabic</option>
                        <option value="tr">ğŸ‡¹ğŸ‡· Turkish</option>
                        <option value="nl">ğŸ‡³ğŸ‡± Dutch</option>
                        <option value="pl">ğŸ‡µğŸ‡± Polish</option>
                        <option value="sv">ğŸ‡¸ğŸ‡ª Swedish</option>
                        <option value="da">ğŸ‡©ğŸ‡° Danish</option>
                        <option value="no">ğŸ‡³ğŸ‡´ Norwegian</option>
                        <option value="fi">ğŸ‡«ğŸ‡® Finnish</option>
                        <option value="th">ğŸ‡¹ğŸ‡­ Thai</option>
                        
                        <!-- Additional Whisper + TTS Languages -->
                        <option value="uk">ğŸ‡ºğŸ‡¦ Ukrainian</option>
                        <option value="cs">ğŸ‡¨ğŸ‡¿ Czech</option>
                        <option value="he">ğŸ‡®ğŸ‡± Hebrew</option>
                        <option value="hu">ğŸ‡­ğŸ‡º Hungarian</option>
                        <option value="ro">ğŸ‡·ğŸ‡´ Romanian</option>
                        <option value="sk">ğŸ‡¸ğŸ‡° Slovak</option>
                        <option value="bg">ğŸ‡§ğŸ‡¬ Bulgarian</option>
                        <option value="hr">ğŸ‡­ğŸ‡· Croatian</option>
                        <option value="ca">ğŸ‡ªğŸ‡¸ Catalan</option>
                        <option value="vi">ğŸ‡»ğŸ‡³ Vietnamese</option>
                        
                        <!-- Asian Languages -->
                        <option value="id">ğŸ‡®ğŸ‡© Indonesian</option>
                        <option value="ms">ğŸ‡²ğŸ‡¾ Malay</option>
                        <option value="tl">ğŸ‡µğŸ‡­ Filipino</option>
                        <option value="bn">ğŸ‡§ğŸ‡© Bengali</option>
                        <option value="ta">ğŸ‡®ğŸ‡³ Tamil</option>
                        <option value="te">ğŸ‡®ğŸ‡³ Telugu</option>
                        <option value="mr">ğŸ‡®ğŸ‡³ Marathi</option>
                        <option value="gu">ğŸ‡®ğŸ‡³ Gujarati</option>
                        <option value="kn">ğŸ‡®ğŸ‡³ Kannada</option>
                        <option value="ml">ğŸ‡®ğŸ‡³ Malayalam</option>
                        
                        <!-- European Languages -->
                        <option value="et">ğŸ‡ªğŸ‡ª Estonian</option>
                        <option value="lv">ğŸ‡±ğŸ‡» Latvian</option>
                        <option value="lt">ğŸ‡±ğŸ‡¹ Lithuanian</option>
                        <option value="sl">ğŸ‡¸ğŸ‡® Slovenian</option>
                        <option value="mk">ğŸ‡²ğŸ‡° Macedonian</option>
                        <option value="mt">ğŸ‡²ğŸ‡¹ Maltese</option>
                        <option value="is">ğŸ‡®ğŸ‡¸ Icelandic</option>
                        <option value="ga">ğŸ‡®ğŸ‡ª Irish</option>
                        <option value="cy">ğŸ´ Welsh</option>
                        <option value="eu">ğŸ‡ªğŸ‡¸ Basque</option>
                        
                        <!-- African & Middle Eastern -->
                        <option value="sw">ğŸ‡¹ğŸ‡¿ Swahili</option>
                        <option value="fa">ğŸ‡®ğŸ‡· Persian (Farsi)</option>
                        <option value="ur">ğŸ‡µğŸ‡° Urdu</option>
                        <option value="af">ğŸ‡¿ğŸ‡¦ Afrikaans</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="taskSelect">Task:</label>
                    <select id="taskSelect">
                        <option value="transcribe">Transcribe</option>
                        <option value="translate">Translate</option>
                        <option value="whisper_translate">Whisper Translate</option>
                    </select>
                </div>
                
                <div class="form-group" id="translateToGroup" style="display: none;">
                    <label for="translateToSelect">Translate to:</label>
                    <select id="translateToSelect">
                        <!-- Major Languages - Full TTS Support -->
                        <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                        <option value="es">ğŸ‡ªğŸ‡¸ Spanish</option>
                        <option value="fr">ğŸ‡«ğŸ‡· French</option>
                        <option value="de">ğŸ‡©ğŸ‡ª German</option>
                        <option value="it">ğŸ‡®ğŸ‡¹ Italian</option>
                        <option value="pt">ğŸ‡µğŸ‡¹ Portuguese</option>
                        <option value="ru">ğŸ‡·ğŸ‡º Russian</option>
                        <option value="ja">ğŸ‡¯ğŸ‡µ Japanese</option>
                        <option value="ko">ğŸ‡°ğŸ‡· Korean</option>
                        <option value="zh">ğŸ‡¨ğŸ‡³ Chinese (Mandarin)</option>
                        
                        <!-- Extended Languages - TTS Support -->
                        <option value="hi">ğŸ‡®ğŸ‡³ Hindi</option>
                        <option value="ar">ğŸ‡¸ğŸ‡¦ Arabic</option>
                        <option value="tr">ğŸ‡¹ğŸ‡· Turkish</option>
                        <option value="nl">ğŸ‡³ğŸ‡± Dutch</option>
                        <option value="pl">ğŸ‡µğŸ‡± Polish</option>
                        <option value="sv">ğŸ‡¸ğŸ‡ª Swedish</option>
                        <option value="da">ğŸ‡©ğŸ‡° Danish</option>
                        <option value="no">ğŸ‡³ğŸ‡´ Norwegian</option>
                        <option value="fi">ğŸ‡«ğŸ‡® Finnish</option>
                        <option value="th">ğŸ‡¹ğŸ‡­ Thai</option>
                        
                        <!-- Selected High-Quality TTS Languages -->
                        <option value="uk">ğŸ‡ºğŸ‡¦ Ukrainian</option>
                        <option value="cs">ğŸ‡¨ğŸ‡¿ Czech</option>
                        <option value="he">ğŸ‡®ğŸ‡± Hebrew</option>
                        <option value="hu">ğŸ‡­ğŸ‡º Hungarian</option>
                        <option value="ro">ğŸ‡·ğŸ‡´ Romanian</option>
                        <option value="sk">ğŸ‡¸ğŸ‡° Slovak</option>
                        <option value="bg">ğŸ‡§ğŸ‡¬ Bulgarian</option>
                        <option value="hr">ğŸ‡­ğŸ‡· Croatian</option>
                        <option value="ca">ğŸ‡ªğŸ‡¸ Catalan</option>
                        <option value="vi">ğŸ‡»ğŸ‡³ Vietnamese</option>
                        
                        <!-- Asian Languages with TTS -->
                        <option value="id">ğŸ‡®ğŸ‡© Indonesian</option>
                        <option value="ms">ğŸ‡²ğŸ‡¾ Malay</option>
                        <option value="tl">ğŸ‡µğŸ‡­ Filipino</option>
                        <option value="bn">ğŸ‡§ğŸ‡© Bengali</option>
                        <option value="ta">ğŸ‡®ğŸ‡³ Tamil</option>
                        <option value="te">ğŸ‡®ğŸ‡³ Telugu</option>
                        <option value="mr">ğŸ‡®ğŸ‡³ Marathi</option>
                        <option value="gu">ğŸ‡®ğŸ‡³ Gujarati</option>
                    </select>
                </div>
                
                <div class="form-actions">
                    <button id="transcribeBtn" class="btn btn-primary" disabled>
                        ğŸ¯ Start Processing
                    </button>
                </div>
            </section>

            <!-- Progress Section -->
            <section class="progress-section" id="progressSection" style="display: none;">
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text" id="progressText">Processing...</div>
                </div>
            </section>

            <!-- Results Section -->
            <div id="resultsSection" class="section" style="display: none;">
                <div class="results-header">
                    <h3>âœ¨ Transcription Results</h3>
                    <div class="results-actions">
                        <button class="copy-btn" id="copyBtn">ğŸ“‹ Copy</button>
                        <button class="download-btn" id="downloadBtn">ğŸ’¾ Download</button>
                        <button class="new-btn" id="newBtn">ğŸ”„ New</button>
                    </div>
                </div>
                <div class="results-content">
                    <div class="result-meta" id="resultMeta">
                        <div class="meta-item">
                            <strong>Language:</strong> <span id="detectedLanguage">-</span>
                        </div>
                        <div class="meta-item">
                            <strong>Model:</strong> <span id="modelInfo">-</span>
                        </div>
                        <div class="meta-item">
                            <strong>Task:</strong> <span id="taskInfo">-</span>
                        </div>
                    </div>
                    <div class="result-text" id="resultText"></div>
                    <div class="result-segments" id="resultSegments" style="display: none;">
                        <h4>Detailed Segments:</h4>
                        <div id="segmentsList"></div>
                    </div>
                </div>

                <!-- Quick Action Buttons -->
                <div id="quickActions" class="quick-actions" style="display: none;">
                    <button id="speakTranscriptBtn" class="btn btn-secondary">
                        ğŸ”Š Speak Transcript
                    </button>
                </div>
            </div>

            <!-- TTS Section -->
            <div id="ttsSection" class="section" style="display: none;">
                <div class="container">
                    <div id="ttsResults" class="tts-results">
                        <!-- Audio player will appear here -->
                    </div>
                </div>
            </div>
        </main>

        <!-- Status Bar -->
        <div class="status-bar" id="statusBar">
            <div class="status-content">
                <!-- Backend Service Status -->
                <div class="service-status">
                    <span class="status-indicator" id="statusIndicator">ğŸ”„</span>
                    <span class="status-text" id="statusText">Checking STT...</span>
                </div>
                
                <!-- TTS Service Status -->
                <div class="service-status">
                    <span class="status-indicator" id="ttsStatusIndicator">ğŸ”„</span>
                    <span class="status-text" id="ttsStatusText">Checking TTS...</span>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div class="toast" id="toast" style="display: none;">
            <span class="toast-message" id="toastMessage"></span>
        </div>

        <!-- Error Modal -->
        <div class="modal" id="errorModal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>âŒ Error</h3>
                    <button class="modal-close" id="modalClose">âœ•</button>
                </div>
                <div class="modal-body">
                    <p class="error-message" id="errorMessage"></p>
                </div>
                <div class="modal-footer">
                    <button class="btn-primary" id="modalOk">OK</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Load scripts in the correct order -->
    <script src="js/api.js" type="module"></script>
    <script src="js/audio.js" type="module"></script>
    <script src="js/tts.js" type="module"></script>
    <script src="js/components/LanguageSelect.js" type="module"></script>
    <script src="js/app.js" type="module"></script>
</body>
</html>
